class Forms.Project.Room.Tab.Preview extends Forms.BaseForm {
	private var controls:XMLNode;
	private var windowXML:XMLNode;
	function Preview() {
	}
	public function init():Void {
		var sampleWindow:XML = new XML('<window><tab name="Lights &amp; Fan" icon="light-bulb"><control name="Main Light" key="ENSUITE_LIGHT" type="onOff" icons="light-bulb-off,light-bulb" /></tab></window>');
		var preview_mc:MovieClip = this.createEmptyMovieClip("preview_mc", 100);
		//var preview_mc:MovieClip = this.attachMovie("window-preview.swf","preview_mc", 100);
		//trace(controls);
		//trace(windowXML);
		var sampleControlTypes = new XML('<controlTypes><control type="slider"><row><item type="label" states="on,off" formats="%name% (%value%%):,%name% (OFF):" defaultState="off" defaultValue="0" /></row><row><item type="button" label="off" command="off" extra="0" width="20" /><item type="slider" width="60" /><item type="button" label="on" command="on" extra="100" extra2="40" extra3="0" width="20" /></row></control><control type="onOff"><row><item type="label" /></row><row><item type="toggle" command="state" extras="on,off" /></row></control><control type="upDown"><row><item type="label" /></row><row><item type="button" icon="up-arrow" command="up" repeatRate="200" /><item type="button" icon="down-arrow" command="down" repeatRate="200" /></row></control><control type="miniBrowser"><row><item type="button" icon="left-arrow" command="browser.back" /><item type="button" icon="right-arrow" command="browser.forward" /><item type="button" icon="media-stop" command="browser.stop" /></row><row><item type="browser" /></row></control><control type="audioPanel"><row><item type="label" states="on,off" formats="%name% (%src%):,%name% (OFF):" /></row><row><item type="toggle" icons="power-red,power-green" command="state" extras="on,off" width="50" /><item type="button" icon="volume-up" command="volume" extra="up" repeatRate="200" /><item type="button" icon="volume-down" command="volume" extra="down" repeatRate="200" /></row><row cases="state:on"><item type="button" icon="cd-music:1" command="src" extra="cd1" showOn="true" /><item type="button" icon="cd-music:2" command="src" extra="cd2" showOn="true" /><item type="button" icon="radio" command="src" extra="radio" showOn="true" /><item type="button" icon="atom" command="src" extra="atom" showOn="true" /><item type="button" icon="tv" command="src" extra="tv" showOn="true" /></row><row cases="state:on,src:cd1cd2"><item type="button" icon="media-play" command="send_audio_command" extra="cd-play" /><item type="button" icon="media-stop" command="send_audio_command" extra="cd-stop" /><item type="button" icon="media-pause" command="send_audio_command" extra="cd-pause" /><item type="button" icon="media-rwd" command="send_audio_command" extra="cd-rw" repeatRate="200" /><item type="button" icon="media-fwd" command="send_audio_command" extra="cd-ff" repeatRate="200" /></row><row cases="state:on,src:!cd1!cd2"><item type="button" icon="left-arrow" command="send_audio_command" extra="5" /><item type="button" icon="right-arrow" command="send_audio_command" extra="6" /><item type="button" icon="up-arrow" command="send_audio_command" extra="7" /><item type="button" icon="down-arrow" command="send_audio_command" extra="8" /></row><row cases="state:on,src:atom"><item type="button" icon="media-play" command="send_audio_command" extra="1" /><item type="button" icon="media-stop" command="send_audio_command" extra="2" /></row></control><control type="tvControl"><row><item type="label" /></row><row><item type="toggle" icons="power-red,power-green" command="state" extras="on,off" width="50" sounds="ding,default" /><item type="button" icon="volume-up" command="volume_up" repeatRate="200" /><item type="button" icon="volume-down" command="volume_down" repeatRate="200" /></row><row cases="state:on"><item type="button" icon="chan-abc" command="channel" extra="abc" showOn="true" sound="ding"/><item type="button" icon="chan-sbs" command="channel" extra="sbs" showOn="true" /><item type="button" icon="chan-win" command="channel" extra="nine" showOn="true" /><item type="button" icon="chan-prime" command="channel" extra="seven" showOn="true" /><item type="button" icon="chan-10" command="channel" extra="ten" showOn="true" /></row></control><control type="rawKeyPad"><row><item type="button" label="1" command="keyPress" extra="01" /><item type="button" label="2" command="keyPress" extra="02" /><item type="button" label="3" command="keyPress" extra="03" /><item type="button" label="Away" command="keyPress" extra="0D" /></row><row><item type="button" label="4" command="keyPress" extra="04" /><item type="button" label="5" command="keyPress" extra="05" /><item type="button" label="6" command="keyPress" extra="06" /><item type="button" icon="moon" command="keyPress" extra="0E" /></row><row><item type="button" label="7" command="keyPress" extra="07" /><item type="button" label="8" command="keyPress" extra="08" /><item type="button" label="9" command="keyPress" extra="09" /><item type="button" icon="sun" command="keyPress" extra="0F" /></row><row><item type="button" label="*" command="keyPress" extra="0B" /><item type="button" label="0" command="keyPress" extra="00" /><item type="button" label="#" command="keyPress" extra="0C" /><item type="button" label="F" command="keyPress" extra="0A" /></row></control><control type="airCon"><row><item type="label" /></row><row><item type="picker" command="on" label="%value% deg C" valueFormat="fred.%value%" minValue="0" maxValue="100" step="5" repeatRate="200" /></row></control></controlTypes>');
		preview_mc.loadMovie("window-preview.swf");
		this.onEnterFrame = function() {
			if (this.preview_mc.sampleControlTypes) {
				this.preview_mc.setWindowData(525, 525, new XML(windowXML.toString()));
				this.preview_mc.setControlTypeData(sampleControlTypes);
				//this.preview_mc.setControlTypeData(new XML(controls.toString()));
				this.preview_mc.setIconPath("D:/BI/eLife Client/Build/standalone/lib/icons/");
				delete this.onEnterFrame;
			}
		};
	}
}
